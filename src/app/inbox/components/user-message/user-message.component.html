<div class="grid">
    <div class="col-12" *ngIf="userTo">
        <p-avatar [label]="getIconText(userTo?.name!)" shape="circle"></p-avatar>
        {{ userTo.name }}
    </div>
</div>
<div class=" w-full mt-1 ">
    <p-scrollPanel  [style]="{width: '100%', height: '200px'}" >
        <div  class="mb-5" *ngIf="messages.length > 0; else emptyMessages">
            <div class="chat-container " *ngFor="let message of messages">
                <div class="item" [ngClass]="getChatClass(message.from)">
                    <p-avatar [label]="getIconTextChat( message.from )" shape="circle"></p-avatar>
                    <span class = "message"> {{ message.message }} </span>
                </div>
            </div>
        </div>
        <ng-template #emptyMessages>
            <app-empty-chat></app-empty-chat>
        </ng-template>
        <span id="final" #final></span>
    </p-scrollPanel>
</div>
<div class="grid mt-1">
    <div class="col-12">
        <div class="p-inputgroup">
            <input  type="text" 
                    class="w-full border-left" 
                    pInputText 
                    placeholder="Send message....."
                    [(ngModel)]="newTextMessage"
                    (keyup.enter)="sendNewMessage()">   
            <button type="button"  
                    pButton 
                    pRipple 
                    icon="pi pi-send" 
                    class="p-button-secondary border-right"
                    (click)="sendNewMessage()">
            </button>      
        </div>
    </div>
</div>
